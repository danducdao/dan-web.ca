<article id="produitDetail">
    <h1>{{titre}} le produit</h1>
    <form (ngSubmit)="onSubmit()" #produitForm="ngForm">
         <div class="row">
             <div class="hpanel hblue col-md-4">
                 <div class="panel-heading hbuilt"><strong>Item</strong></div>
                 <div class="panel-body">
                     <div class="row">
                          <div class="col-md-8">
                               <label class="control-label" for="nom">Nom</label>&nbsp;<span style="color:red;">*</span>
                               <input type="text" class="form-control" name="nom" #nom="ngModel" required [(ngModel)]="model.nom" [pattern]="nodigitPattern">
                               <div *ngIf="nom.errors">
                                     <div [hidden]="!nom.errors.required || nom.pristine" class="alert alert-danger">
                                           Nom est obligatoire
                                     </div>
                                     <div [hidden]="!nom.errors.pattern" class="alert alert-danger">
                                           Nom contient seulement des caractères
                                     </div>
                               </div>
                           </div>
                     </div>
                     <div class="row">
                           <div class="col-md-8">
                               <label class="control-label" for="prix">Prix</label>&nbsp;<span style="color:red;">*</span>
                               <input type="text" class="form-control" name="prix" #prix="ngModel" [(ngModel)]="model.prix" required [pattern]="decimalPattern">
                               <div *ngIf="prix.errors">
                                     <div [hidden]="!prix.errors.required || prix.pristine" class="alert alert-danger">
                                           Prix est obligatoire
                                     </div>
                                     <div [hidden]="!prix.errors.pattern" class="alert alert-danger">
                                           Prix doit être décimal
                                     </div>
                               </div>
                           </div>
                     </div>
                     <div class="row">
                           <div class="col-md-6">
                             <label class="control-label" for="categorie">Catégorie</label>&nbsp;<span style="color:red;">*</span>
                             <select class="form-control" name="categorie" required #category="ngModel" [(ngModel)]="categorieId" (change)="selectCategorie()">
                                     <option [disabled]="true" value="">--Sélectionner--</option>
                                     <option *ngFor="let categorie of categories" [value]="categorie._id">{{categorie.nom}}</option>
                             </select>
                             <div [hidden]="category.valid" class="alert alert-danger">Catégorie est obligatoire</div>
                           </div>
                     </div>
                     <div class="row">
                          <div class="col-md-6">
                             <label class="control-label" for="fournisseur">Fournisseur</label>&nbsp;<span style="color:red;">*</span>
                             <select class="form-control" name="fournisseur" required #supplier="ngModel" [(ngModel)]="fournisseurId" (change)="selectFournisseur()">
                                     <option [disabled]="true" value="">--Sélectionner--</option>
                                     <option *ngFor="let fournisseur of fournisseurs" [value]="fournisseur._id">{{fournisseur.compagnie}}</option>
                             </select>
                             <div [hidden]="supplier.valid" class="alert alert-danger">Fournisseur est obligatoire</div>
                          </div>
                     </div>
                     <div class="row">
                          <div class="col-md-7">
                             <label for="reapprovisionnement">Réapprovisionnement</label>
                             <input type="text" class="form-control" id="reapprovisionnement" name="reapprovisionnement" #reapprovisionnement="ngModel" [(ngModel)]="model.reapprovisionnement" [pattern]="digitPattern">
                             <div *ngIf="reapprovisionnement.errors">
                                 <div [hidden]="!reapprovisionnement.errors.pattern" class="alert alert-danger">
                                       Quantité réapprovisionnement doit être digit
                                 </div>
                             </div>
                          </div>
                     </div>
               </div>
             </div>
         </div>
         <div class="row">
             <div class="hpanel hblue col-md-4">
                   <div class="panel-heading hbuilt"><strong>Quantité</strong></div>
                   <div class="panel-body">
                       <div class="row">
                            <div class="col-md-8">
                                 <label for="qty">Stock</label>&nbsp;<span style="color:red;">*</span>
                                 <input type="text" class="form-control" name="qty" #qty="ngModel" [(ngModel)]="model.quantite" required [pattern]="digitPattern">
                                 <div *ngIf="qty.errors">
                                       <div [hidden]="!qty.errors.required || qty.pristine" class="alert alert-danger">
                                             Quantité est obligatoire
                                       </div>
                                       <div [hidden]="!qty.errors.pattern" class="alert alert-danger">
                                             Quantité doit être digit
                                       </div>
                                 </div>
                           </div>
                       </div>
                       <div class="row">
                            <div class="col-md-8">
                                 <label for="quantiteRestante">Restante</label>
                                 <input type="text" class="form-control" name="quantiteRestante" #quantiteRestante="ngModel" [(ngModel)]="model.quantiteRestante" [pattern]="digitPattern">
                                 <div *ngIf="quantiteRestante.errors">
                                     <div [hidden]="!quantiteRestante.errors.pattern" class="alert alert-danger">
                                           Quantité restante doit être digit
                                     </div>
                                  </div>
                           </div>
                       </div>
                       <div class="row">
                            <div class="col-md-8">
                               <label for="quantiteCommande">Quantité commandée</label>
                               <input type="text" class="form-control" id="quantiteCommande" name="quantiteCommande" #quantiteCommande="ngModel" [(ngModel)]="model.quantiteCommande" [pattern]="digitPattern">
                               <div *ngIf="quantiteCommande.errors">
                                   <div [hidden]="!quantiteCommande.errors.pattern" class="alert alert-danger">
                                         Quantité de commande doit être digit
                                   </div>
                               </div>
                            </div>
                       </div>
                   </div>
              </div>
         </div>
        <div class="row">
              <div class="hpanel hblue col-md-4">
                   <div class="panel-heading hbuilt"><strong>Discontinue</strong></div>
                   <div class="panel-body">
                        <span *ngFor="let radioButton of radioButtonContainer.getContainer();let i = index">
                            <div [ngClass]="radioButton.ClsAttribut" style="position: relative;" (click)="radioButtonContainer.discChecked(i,this.model)">
                                <input type="radio" name="radioButton.Name" style="position: absolute; opacity: 0;" value="radioButton.Value">
                                <ins class="iCheck-helper" style="position: absolute; top: 0%; left: 0%; display: block; width: 100%; height: 100%; margin: 0px; padding: 0px; background: rgb(255, 255, 255) none repeat scroll 0% 0%; border: 0px none; opacity: 0;"></ins>
                            </div>&nbsp;{{radioButton.Text}}&nbsp;
                        </span>
                   </div>
              </div>
        </div>
        <div class="row">
             <div class="col-md-4">
                 <button type="submit" class="btn btn-success" [disabled]="!produitForm.form.valid">
                        <i class="fa fa-check-square-o" style="font-size:24px;float:left;"></i>
                        <span style="margin-left:5px;font-weight:bold;font-size:18px;">OK</span>
                 </button>&nbsp;
                 <button class="btn btn-success" onclick="window.location.href='admin/produit';return false;">
                         <i class="fa fa-backward" style="font-size:24px;float:left;"></i>
                         <span style="margin-left:5px;font-weight:bold;font-size:18px;">BACK</span>
                </button>
                <div class="form-group">
                     <input type="hidden" class="form-control" id="active" [(ngModel)]="model.active" name="active">
                </div>
            </div>
        </div>
    </form>
</article>
